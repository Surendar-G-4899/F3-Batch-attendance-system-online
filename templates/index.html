<!DOCTYPE html>
<html>
<head>
    <!---  style sheets  -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    
    <!---------Custom css and js-------------------->


    <!-- other  tags-->
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title> &#127895; Smart class Monitoring system</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
</head>
<body style="background-color:beige">
    <center>
        {% if isindex %}
        
        <!--    
            ###{% with message = get_flashed_messages() %}
            ##{% if message %}
            ##    <p>{{ message }}</p>
            ##{% endif %}
            ##{% endwith %}-->

            <!--<p>#{{ attendance }}</p>
            <p>#{{ names[0] }}</p>
            <p>#{{len}}</p>-->
            <h1>Attendance Report 
                <a href="{{ url_for('static',filename='/Attendance.json')}}" download>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                    </svg>
                </a>
            </h1> 
            <table border="1" class="table table-striped table-light table-responsive table-hover" style="width: 75%;margin-top: 5%;">
                <b><span id='date-time' style="font-size: small;"></span></b>
                <thead class="thead-dark">
                    <tr style="text-align: right;">
                        <th>Name</th>
                        <th>Attendance1</th>
                        <th>Attendance2</th>
                        <th>Attendance3</th>
                        <th>Grand Attendance</th>                        
                    </tr>
                </thead>
                <tbody>
                    {%for i in range(0, len)%}
                    <tr>
                        <th>{{names[i]}}</th>
                        <td>{{attendance[i][0][0]}}</td>
                        <td>{{attendance[i][0][1]}}</td>
                        <td>{{attendance[i][0][2]}}</td>
                        <th>{{attendance[i][1]}}</th>
                        
                    </tr>
                    {%endfor%}
                </tbody>
            </table>
        
        {% else %}

            <div class="bd-callout bd-callout-info" style="margin-top: 5%; width: 70%; text-align: left;padding: .50rem;padding-top: .25rem; border: 1px solid #eee;border-left-width: .25rem;
                border-radius: .25rem;border-left-color: #5bc0de;">
                <h4> Online Class Monitoring system </h4>
                <p>
                    Enter Duration of Session in <b>(minutes)</b> and number of attendies as (Integer)
                </p>
            </div>
            <div class="jumbotron shadow-lg rounded" style="width: 85%; margin-top: 2%;padding-top: 1%; padding-bottom: 1%;background-color: rgb(209, 207, 204);">
                <form action="login" class="form-horizontal" enctype="multipart/form-data" method="POST" >
                    <div class="form-group">
                        <label for="duration" class="control-label col-sm-3"> Duration <i>(in minutes)</i>: </label>
                        <input type="text" name="duration" id="duration" value="0">
                        <label for="attendies" class="control-label col-sm-3"> No of Attendies : </label>
                        <input type="number" name="attendies" id="attendies" min="1" max="5">
                    </div>
                        <input type="submit" class="btn col-sm-2" name="submit" value="Monitor" style="border-color: black; font-size: x-large; border-radius: 20%;"  >
                    
                </form>
            </div>

        {% endif %}
    </center>

    <script>
        var dt = new Date();
        document.getElementById('date-time').innerHTML=dt;
    </script>
    
</body>
</html>